# Présentation {.backgroundTitre}

## C'est quoi Cerise ?

**CERISE : Consolidation Et Restitution de l’Information StatistiquE**

Cerise contient l'ensemble des données et des programmes R utilisés par le SSM Agriculture.

Cerise est une plateforme qui repose sur la solution "Posit Workbench" commercialisée par la société du même nom "Posit". Elle offre une interface web pour utiliser RStudio dans un environnement multi-utilisateurs et sécurisé.

Cerise est articulé autour de 3 VM :

## Avantages de Cerise

Cerise présente plusieurs avantages :  

- Accès aux données du SSM Agriculture (enquêtes, nomenclatures, fichiers externes...)  
- Montée de versions régulière (Workbench / R / Packages)  
- Sécurité /conformité  
- Support Centre de Service et assistance BQIS garantis

## Ressources Cerise

- 160 Go RAM  
- 30 processeurs virtuels  
- Plus de 400 utilisateurs distincts  
- 80 sessions simultanées en moyenne

Des admins Cerise qui vous surveillent {{< fa face-smile-wink >}} 

![](img/adm_cerise.png){fig-align="right"}




## Comment accéder à Cerise ?

Via votre navigateur et les URL suivantes : 

- https://rstudio.agriculture.rie.gouv.fr/ : accès général à tous les agents du SSM  
- https://rstudio2.agriculture.rie.gouv.fr/ : accès réservé aux opérations gourmandes en ressources  
- https://rstudio3.agriculture.rie.gouv.fr/ : accès réservé aux agents du DEMESIS  

## Mises à jour Cerise

- R
    - Une **montée de version** annuelle de R_Base
    Le DéMéSIS met à disposition 2 versions de R_base :

        - Suppression de le version la plus ancienne présente l'année N-1 sur CERISE
        - Reconduction de le version la plus récente présente l'année N-1 sur CERISE
        - Ajout de la dernière version stable* mise à disposition sur le CRAN
        
- RStudio
    Dernière version stable* mise à disposition par l'éditeur (au moment de la réalisation de septembre/octobre de l'année N-1)
    
- Packages
    - La liste des packages R valides et compatibles à une date donnée sont mis à disposition dans le Data Center du MASA.
    - Une liste pré-établie de packages est préinstallée sur CERISE pour chacune des version R_Base

## Cerise en 2025

| Composant   | Version actuelle                                                                                                                                                                                                     |
|-------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| RStudio     | 2024.09  « Cranberry Hibiscus »                                                                                                                                                                                      |
| R_Base_Core | R 4.2.3 – 2023-03-15<br>R 4.4.1 – 2024-06-15                                                                                                                                                                         |
| Packages    | R 4.2.3 – 2023-03-15<br>Nombre de packages disponibles : 18839<br>Nombre de packages installés   :   770<br>R 4.4.1  – 2024-06-15<br>Nombre de packages disponibles : 20946<br>Nombre de packages installés   :   80 |

## Organisation de Cerise (1/3)

Cerise est organisé en plusieurs répertoires :

-   [**00-Espace-Personnel**]{.blue} =\> espaces personnels des agents, accessible par l’agent uniquement

-   [**01-Espace-de-Partage**]{.blue} =\> lieu de partage général entre les différents acteurs

-   [**02-Espace-de-Production**]{.blue} =\> plateforme de stockage des données brutes collectées, ainsi que des fichiers de données et programmes issus des traitements statistiques réalisés par l'équipe projet (voir image plus loin)

-   [**03-Espace-de-Diffusion**]{.blue} =\> mise à disposition au sein du SSM des données issues des traitements statistiques réalisés en amont

*=\> Ces deux derniers espaces sont découpés par opérations statistiques*

-   [**04-Espace-Echanges**]{.blue} =\> stockage des fichiers de données à transmettre aux autres applications du SI CASSIS (par exemple Agreste) ainsi qu'aux SI des partenaires extérieurs

## Organisation de Cerise (2/3)

![](img/Arbo_cerise.png){fig-align="center"}

## Organisation de Cerise (3/3)

![](img/espace_de_production.png){fig-align="center"}

## Accéder facilement à son espace personnel

L'accès à l'espace personnel de Cerise peut être difficile lorsque vous êtes "perdus" dans l'arborescence riche de Cerise.  
Voici ci-dessous comment faire pour y accéder rapidement.  


![](img/acces_espace_perso.png){fig-align="center"}

## Remarques et astuces sur Cerise

- Pas d'explorateur de fichiers comme Windows sous Cerise. La navigation dans l'arborescence se fait via le menu "Fichiers" ou "Files" de RStudio.  
- Pour sélectionner une version R_Base, il faut la sélectionner en haut à droite dans la fenêtre RStudio  

![](img/version_R.png){fig-align="center"}
